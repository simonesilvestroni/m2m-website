<!DOCTYPE html>
<html lang="en-GB" dir="ltr" itemscope itemtype="http://schema.org/WebPage">
<head>
	<title>Minutes to Midnight - Re: Blocking Bots</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="noindex, nofollow, noai, noimageai">
	<!-- minimal open graph implementation -->
	<meta content="Re: Blocking Bots" property="og:title">
	<meta content="Inspired by Neil Clarke and Ethan Marcotte, I moved my list of crawlers to a Jekyll YAML data file, and now use it to compile both the .htaccess and robots.txt files." name="description" property="og:description">
	<meta content="/assets/images/m2m-og-image.png" property="og:image">
	<meta content="/assets/images/m2m-og-image.png" name="twitter:card">
	<!-- end open graph -->
	<meta name="pinterest" content="nopin">
	<link rel="preload" href="https://minutestomidnight.co.uk/assets/fonts/rubik-regular.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="stylesheet" href="https://minutestomidnight.co.uk/assets/css/m2m.css">
	<link rel="icon" href="https://minutestomidnight.co.uk/favicon.ico" sizes="any">
	<link rel="icon" href="https://minutestomidnight.co.uk/assets/images/favicons/favicon.svg" type="image/svg+xml">
	<link rel="apple-touch-icon" href="https://minutestomidnight.co.uk/assets/images/favicons/apple-touch-icon.png" sizes="180x180">
	<link rel="manifest" href="https://minutestomidnight.co.uk/assets/images/favicons/site.webmanifest">
	<link rel="preview" href="https://minutestomidnight.co.uk/assets/images/m2m-og-image.png">
	<link rel="canonical" href="https://minutestomidnight.co.uk/blog/re-blocking-bots/">
	<script type="application/ld+json">
	{
		"@context": "http://schema.org",
		"@type": "WebSite",
		"name": "Minutes to Midnight",
		"headline": "Web designer & music producer",
		"url": "https://minutestomidnight.co.uk/blog/re-blocking-bots/",
		"description": "Inspired by Neil Clarke and Ethan Marcotte, I moved my list of crawlers to a Jekyll YAML data file, and now use it to compile both the .htaccess and robots.txt files.",
		"keywords": "minutes to midnight, simone silvestroni, sound design, bass, game audio, foley, field recording, music production, music composer, mix, master, reaper, pro tools, logic pro, web design, web development, web performance, web accessibility, web usability, front-end, ux, user experience, jekyll, wordpress, html, css",
		"datePublished": "2024-05-02 16:41:26 +0100",
		"dateModified": "2024-09-28T12:26:47+01:00",
		"author": {
			"@type": "Person",
			"name": "Simone Silvestroni",
			"givenName": "Simone",
			"familyName": "Silvestroni"
		},
		"mainEntityOfPage": {
			"@type": "WebPage",
			"@id": "https://minutestomidnight.co.uk/blog/re-blocking-bots/"
		},
		"image": {
			"@type": "ImageObject",
			"width": "500",
			"height": "500",
			"url": "https://minutestomidnight.co.uk/assets/images/m2m-og-image.png"
		},
		"sameAs": [
			"https://github.com/simonesilvestroni",
			"https://www.linkedin.com/in/simonesilvestroni",
			"https://minutestomidnight.bandcamp.com",
			"https://www.youtube.com/@m2m"
		]
	}
	</script>
</head>
<body id="top" class="post re-blocking-bots">
	<div class="skip-links">
		<a href="#main">Skip to content</a>
		<a href="#footer">Skip to footer</a>
	</div>
	<header>
		<a href="https://minutestomidnight.co.uk"><img src="https://minutestomidnight.co.uk/assets/images/m2m-nav-logo.svg" alt="Back to the homepage" width="32" height="32"></a>
		<nav aria-label="Main navigation">
			<ul>
				<li><a href="/about/">About</a></li><li><a class="current" href="/blog/">Blog</a></li><li><a href="/contact/">Contact</a></li><li><a href="/feed.xml"><img class="logo-rss" src="/assets/images/rss.svg" alt="RSS" width="20" height="20"></a></li>
			</ul>
		</nav>
	</header>
	<main id="main">
	<article class="h-entry">
	<header>
		<h1>Re: Blocking Bots</h1>
	</header>
	
	<p class="highlight"><span>Inspired by <a href="https://neil-clarke.com/block-the-bots-that-feed-ai-models-by-scraping-your-website/">Neil Clarke</a> and Ethan Marcotte, I moved my list of crawlers to a Jekyll YAML data file, and now use it to compile both the <code>.htaccess</code> and <code>robots.txt</code> files.</span></p>
	
	<div class="author">
		<a href="https://minutestomidnight.co.uk/about/"><img src="https://minutestomidnight.co.uk/assets/images/minutes-to-midnight-portrait.jpg" alt="Simone Silvestroni" width="48" height="48"></a>&nbsp;&nbsp;<a href="https://minutestomidnight.co.uk/blog/re-blocking-bots/" title="Permalink"><time datetime="2024-05-02T16:41:26+01:00" itemprop="dateCreated">2 May 2024</time></a>
	</div>
	<p>The premise is simple: to opt out of AI bots scraping my website and participate to the ongoing training of LLMs, I used to block a bunch of them via the old and trusted <code>robots.txt</code>. Since a rewrite condition within Apache's <code>.htaccess</code> adds a further level of protection, I went on and created a single data file, writing the logic to use it to feed both files.</p>

<p>Once created <a href="https://github.com/simonesilvestroni/m2m-website/blob/main/_data/bots.yml"><code>bots.yml</code></a> in my Jekyll data directory, I used a loop to iterate through the single items in my <code>robots.liquid</code> source file:</p>

<pre><code>---
layout: none
permalink: /robots.txt
---
{%- for item in site.data.bots -%}
User-agent: {{ item }}
Disallow: /

{%- endfor %}
</code></pre>

<p>The end result after a site build is a <code>/robots.txt</code> file containing the entire list of disallowed bots. The rewrite instructions to block AI crawlers in the <code>.htaccess</code> file are the same as suggested by Ethan. Instead of performing a <code>for</code> loop, I just print them inline within a rewrite condition, separated by a pipe character:</p>

<pre><code># Block bots
&lt;IfModule mod_rewrite.c&gt;
  RewriteEngine on
  RewriteBase /
  RewriteCond %{HTTP_USER_AGENT} ({{ site.data.bots | sort_natural | join: "|" }}) [NC]
  RewriteRule ^ â€“ [F]
&lt;/IfModule&gt;
</code></pre>

<h2 id="redirects">Redirects</h2>

<p>Since I was there, I also optimised the <code>.htaccess.liquid</code> source file by creating a further YAML data file with all my redirects, looping through them in a now neat source file:</p>

<pre><code># Redirects
{%- for item in site.data.redirects %}
Redirect 301 {{ item }}
{%- endfor %}
</code></pre>

	<footer>
		<p>Comments? <a href="mailto:hello@minutestomidnight.co.uk?subject=Re:%20Blocking%20Bots" title="Reply to this post">Reply via email</a>.</p>
		<ul class="taxonomy">
			<li><a href="/blog/tag/web-development/"><span>WEB DEVELOPMENT</span></a></li>
		</ul>
	</footer>
</article>
<div class="pagination">
	<a class="pagination-prev" href="https://minutestomidnight.co.uk/blog/json-rss-feed/">
		<span>&larr;&nbsp;Older</span>
		<span>JSON RSS feed</span>
	</a><a class="pagination-next" href="https://minutestomidnight.co.uk/blog/more-indieweb-automation/">
		<span>Newer&nbsp;&rarr;</span>
		<span>More Indieweb Automation</span>
	</a>
</div>
	</main>
	<footer id="footer">
		<nav aria-label="Secondary navigation">
			<ul>
				<li><a href="https://minutestomidnight.co.uk/sound-design/#original-music">My music</a></li>
				<li><a href="https://minutestomidnight.co.uk/now/">Now</a></li>
				<li><a href="https://minutestomidnight.co.uk/blogroll/">Blogroll</a></li>
				<li><a href="https://minutestomidnight.co.uk/sitemap/">Sitemap</a></li>
				<li><a href="https://minutestomidnight.co.uk/search/">Search</a></li>
				</ul>
		</nav>
		<p><a href="https://minutestomidnight.co.uk/colophon/#copyright">&copy; 2024 + CC BY 4.0</a></p>
		<p>Handcrafted using Jekyll 4.3.3, Liquid, and the M2M CSS framework. Typefaces: <em>Rubik, with a touch of serif</em>. Info about <a href="https://minutestomidnight.co.uk/colophon/#about-the-website">the website</a>, <a href="https://minutestomidnight.co.uk/colophon/#accessibility-and-sustainability">accessibility &amp; sustainability</a>, and <a href="https://minutestomidnight.co.uk/colophon/#privacy">privacy</a>.</p>
		<hr>
		<nav aria-label="Footer navigation">
			<ul>
				<li><a href="https://themarkup.org/blacklight?location=eu&device=desktop&force=false&url=minutestomidnight.co.uk">No tracking</a></li>
				<li><a href="#top">&uarr;&nbsp;Back to top</a></li>
			</ul>
		</nav>
	</footer>
</body>
</html>