{% comment %}
  *-------------------------------------------------
  Render your responsive images using <img srcset>,
  with the largest resized image used as a fallback.

  Front Matter variables
  *-------------------------------------------------
  featimage: true
  featimage-alt: "000"
  featimage-class: 'u-featured'
  featimage-name: '000'
  image-caption: true
  featimage-caption-desc: '000'
  margin-nil: 0 // OPTIONAL if I need no top margin

  Usage
  *-------------------------------------------------
  {% responsive_image 
    path: '/assets/images/000.000' 
    alt: 000
  %}

  Or
  *-------------------------------------------------
  {% responsive_image_block %}
    path: assets/images/000.000
    alt: 000
    caption-true: {{ page.image-caption }}
    caption: 000
  {% endresponsive_image_block %}

  Embed with Alfred:
  *-------------------------------------------------
  /featfrontmatter
  /respimage
  /respfeatimage
  -------------------------------------------------*
{% endcomment %}
{%- assign largest = resized | sort: 'width' | last -%}
{%- assign smallest = resized | sort: 'width' | first -%}
{%- capture srcset -%}
{%- for i in resized -%}
  /{{ i.path }} {{ i.width }}w,
{%- endfor -%}
{%- endcapture -%}
<figure class="{% if margin-nil %}my-{{ margin-nil }} {% else %}my-5 {% endif %}text-center">
  <picture>
    <source srcset="{{ srcset }} /{{ path }} {{ original.width }}w">
    <img class="{% if class %}{{ class }} {% endif %}mx-auto" src="/{{ smallest.path }}" alt="{{ alt | default: caption }}">
  </picture>
  {% if caption-true %}
  <figcaption class="mt-3 caption">{{ caption }}</figcaption>
  {% endif %}
</figure>